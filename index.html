<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Boda | Nicole Stefanie & Javier Adrián – 15 Mayo 2026</title>
  <meta name="description" content="Invitación de boda de Nicole Stefanie Benalcazar García y Javier Adrián Tobar Hanze – 15/05/2026" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Poppins:wght@300;400;500;700&family=Great+Vibes&display=swap" rel="stylesheet">
  <style>
    :root{
      --accent:#8B1E2D;         /* vino tinto */
      --accent-2:#E6B8B8;       /* rosado suave */
      --leaf:#386641;           /* verde */
      --ink:#1F2937;            /* gris-azul texto */
      --paper:#FAF7F2;          /* fondo papel */
      --shadow:0 10px 24px rgba(0,0,0,.12);
      --radius:18px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;background:var(--paper);color:var(--ink);font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Arial,"Apple Color Emoji","Segoe UI Emoji";scroll-behavior:smooth}
    a{color:var(--accent)}
    .container{max-width:960px;margin:auto;padding:20px}
    header.hero{position:relative;overflow:hidden;border-radius:var(--radius);box-shadow:var(--shadow);background:#fff}
    .hero-grid{display:grid;grid-template-columns:1.2fr 1fr}
    .hero-img{min-height:440px;background:linear-gradient(135deg,#f8e9ec,#f4efe9)}
    .hero-content{padding:28px 28px 34px}
    .names{font-family:"Playfair Display",serif;font-weight:700;letter-spacing:.02em;font-size:clamp(28px,4vw,42px)}
    .amp{font-family:"Great Vibes",cursive;color:var(--accent);font-size:clamp(36px,6vw,64px);line-height:.9;display:inline-block;margin:0 .25em}
    .date{margin-top:6px;font-weight:600;color:var(--accent);letter-spacing:.18em}
    .countdown{display:flex;gap:10px;margin-top:18px}
    .pill{flex:1;text-align:center;background:var(--paper);border:1px solid #ece7df;border-radius:14px;padding:12px 8px}
    .pill b{display:block;font-size:22px}
    .section{margin:34px 0}
    .card{background:#fff;border-radius:var(--radius);box-shadow:var(--shadow);padding:22px}
    .two-col{display:grid;gap:18px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
    .title{font-family:"Playfair Display",serif;font-weight:700;font-size:26px;margin:0 0 8px}
    .subtitle{margin:0;color:#6b7280}
    .btn{display:inline-block;background:var(--accent);color:#fff;border:none;border-radius:12px;padding:12px 18px;font-weight:600;cursor:pointer;text-decoration:none}
    .btn.ghost{background:#fff;color:var(--accent);border:2px solid var(--accent)}
    .center-buttons{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:12px}
    .timeline{position:relative;margin-left:14px}
    .timeline::before{content:"";position:absolute;left:8px;top:0;bottom:0;width:2px;background:linear-gradient(180deg,var(--accent),transparent)}
    .t-item{position:relative;padding-left:28px;margin:16px 0}
    .t-dot{position:absolute;left:0;top:4px;width:16px;height:16px;border-radius:50%;background:var(--accent)}
    .gallery{display:grid;gap:10px;grid-template-columns:repeat(auto-fill,minmax(160px,1fr))}
    .gallery img{width:100%;height:160px;object-fit:cover;border-radius:12px}
    form label{display:block;font-weight:600;margin:12px 0 6px}
    input,select,textarea{width:100%;border:1px solid #e5e7eb;border-radius:10px;padding:12px;background:#fff}
    textarea{min-height:110px}
    .ok{color:#065f46;padding:12px 14px;background:#ecfdf5;border:1px solid #a7f3d0;border-radius:12px}
    .err{color:#9b1c1c;padding:12px 14px;background:#fef2f2;border:1px solid #fecaca;border-radius:12px}
    footer{margin:36px 0 28px;text-align:center;color:#6b7280}
    /* Animaciones */
    .reveal{opacity:0;transform:translateY(24px);transition:opacity .8s ease, transform .8s ease}
    .reveal.visible{opacity:1;transform:translateY(0)}
    .delay-1{transition-delay:.1s}
    .delay-2{transition-delay:.2s}
    .delay-3{transition-delay:.3s}
    /* RSVP oculto */
    .hidden{display:none}
    /* Botón de música */
    .music-btn{position:fixed;right:16px;bottom:16px;background:#fff;border:2px solid var(--accent);color:var(--accent);border-radius:999px;padding:10px 14px;box-shadow:var(--shadow);font-weight:700}
    .music-btn.playing{background:var(--accent);color:#fff}
    /* Modal genérico */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;align-items:center;justify-content:center;padding:16px}
    .modal.open{display:flex}
    .modal-card{max-width:720px;width:100%;background:#fff;border-radius:16px;box-shadow:var(--shadow);padding:20px}
    .modal-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
    .chip{height:12px;background:#f3f4f6;border-radius:10px}
    .gift-skel{height:42px;border-radius:10px;margin:8px 0;background:linear-gradient(90deg,#f3f4f6,#eaeaea,#f3f4f6);background-size:200% 100%;animation:sh 1.2s infinite}
    @keyframes sh{0%{background-position:200% 0}100%{background-position:-200% 0}}
    .gift-item{display:flex;align-items:center;justify-content:space-between;border:1px solid #eee;border-radius:12px;padding:10px 12px;margin:8px 0}
    .gift-item small{color:#6b7280}
    .bank-box{width:100%;min-height:180px;border:1px dashed #d1d5db;border-radius:12px;background:#fafafa;padding:12px;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}
    @media (max-width:860px){
      .hero-grid{grid-template-columns:1fr}
      .hero-img{min-height:320px}
    }
  </style>
</head>
<body>
  <div class="container">

    <!-- HERO -->
    <header class="hero reveal">
      <div class="hero-grid">
        <div class="hero-img" aria-label="Fondo artístico"></div>
        <div class="hero-content">
          <p class="subtitle">Queridos invitados</p>
          <h1 class="names">Nicole Stefanie <span class="amp">&</span> Javier Adrián</h1>
          <p class="subtitle">¡Nos casamos! Acompáñanos a celebrar nuestro amor.</p>
          <p class="date">15 · MAYO · 2026</p>

          <!-- Countdown -->
          <div class="countdown">
            <div class="pill"><b id="dLeft">0</b><small>DÍAS</small></div>
            <div class="pill"><b id="hLeft">0</b><small>HORAS</small></div>
            <div class="pill"><b id="mLeft">0</b><small>MIN</small></div>
            <div class="pill"><b id="sLeft">0</b><small>SEG</small></div>
          </div>

          <div class="center-buttons">
            <a class="btn" id="addCalendar" href="#">Agregar al calendario</a>
            <a class="btn ghost" href="#confirmar">Confirmar asistencia</a>
          </div>
        </div>
      </div>
    </header>

    <!-- CEREMONIA / RECEPCIÓN -->
    <section class="section">
      <div class="two-col">
        <article class="card reveal delay-1">
          <h2 class="title">Ceremonia</h2>
          <p class="subtitle">16:00 · Iglesia Casa de Fé</p>
          <p>Será un momento íntimo y especial en el que uniremos nuestras vidas ante Dios y nuestras familias. Nos hará muy felices sentir su abrazo y sus oraciones cuando digamos <b>“sí, acepto”</b>.</p>
          <div class="center-buttons">
            <a class="btn" id="ceremonyMap" href="#" target="_blank" rel="noopener">Ver mapa</a>
          </div>
        </article>

        <article class="card reveal delay-2">
          <h2 class="title">Recepción</h2>
          <p class="subtitle">20:00 · Lugar por confirmar</p>
          <p>Después de la ceremonia, celebremos bailando y brindando por el amor.</p>
          <p><b>No niños</b><br>Amamos a los niños, pero hemos reservado sitios solo para adultos. <em>Niños, dulces sueños.</em></p>
          <div class="center-buttons">
            <a class="btn" id="receptionMap" href="#" target="_blank" rel="noopener">Ver mapa</a>
          </div>
        </article>
      </div>
    </section>

    <!-- CÓDIGO DE VESTIMENTA / ITINERARIO -->
    <section class="section two-col">
      <article class="card reveal delay-1">
        <h2 class="title">Código de vestimenta</h2>
        <p class="subtitle"><b>Formal</b></p>

        <p><b>Hombres:</b> de traje · evitar azul claro.</p>
        <p><b>Mujeres:</b> de vestido largo · evitar vestidos rojo, beige, plateado, crema y gris.</p>

        <p>Reservamos el blanco para la novia.</p>
      </article>

      <article class="card reveal delay-2">
        <h2 class="title">Itinerario</h2>
        <div class="timeline">
          <div class="t-item"><span class="t-dot"></span><b>16:00</b> – Ceremonia</div>
          <div class="t-item"><span class="t-dot"></span><b>19:30</b> – Traslado y fotos</div>
          <div class="t-item"><span class="t-dot"></span><b>20:00</b> – Recepción</div>
          <div class="t-item"><span class="t-dot"></span><b>21:00</b> – Cena</div>
          <div class="t-item"><span class="t-dot"></span><b>23:30</b> – Baile</div>
        </div>
      </article>
    </section>

    <!-- MESA DE REGALOS / FOTOS -->
    <section class="section two-col">
      <article class="card reveal delay-1">
        <h2 class="title">Mesa de regalos</h2>
        <p>Tu presencia es nuestro mejor regalo. Para quienes deseen acompañarnos también con un detalle, hemos preparado una lista de artículos del hogar. Si lo prefieren, pueden hacerlo con sobre cerrado. ¡Gracias por su cariño!</p>
        <div class="center-buttons">
          <button class="btn" id="openGifts">Ver lista de regalos</button>
          <button class="btn ghost" id="openBank">Ver datos para transferencia</button>
        </div>
      </article>

      <article class="card reveal delay-2">
        <h2 class="title">Comparte tus fotografías</h2>
        <p>Nos encantará revivir cada momento desde tu mirada. Sube tus fotos para crear juntos un recuerdo inolvidable.</p>
        <div class="center-buttons">
          <a class="btn" id="photosLink" href="https://example.com/fotos" target="_blank" rel="noopener">Abrir carpeta de fotos</a>
        </div>
      </article>
    </section>

    <!-- BOTÓN PARA MOSTRAR RSVP -->
    <section id="confirmar" class="section">
      <article class="card reveal" style="text-align:center">
        <h2 class="title">¿Nos acompañas?</h2>
        <p class="subtitle">Pulsa el botón para confirmar y abrir el formulario.</p>
        <button class="btn" id="openRSVP">Confirmar asistencia</button>
      </article>
    </section>

    <!-- RSVP (OCULTO) -->
    <section id="rsvp" class="section hidden">
      <article class="card">
        <h2 class="title">Confirmar asistencia</h2>
        <p class="subtitle">Completa el formulario. Recibirás un correo con tu confirmación.</p>
        <form id="rsvpForm">
          <div class="two-col">
            <div>
              <label>Nombre completo</label>
              <input name="name" id="name" required />
            </div>
            <div>
              <label>Email</label>
              <input type="email" name="email" id="email" required />
            </div>
          </div>
          <div class="two-col">
            <div>
              <label>Teléfono</label>
              <input name="phone" id="phone" />
            </div>
            <div>
              <label>Número de acompañantes</label>
              <select name="guests" id="guests">
                <option value="0">Sólo yo</option>
                <option value="1">+1</option>
                <option value="2">+2</option>
                <option value="3">+3</option>
              </select>
              <small class="subtitle">Límite permitido: <span id="guestLimitLabel">0</span></small>
            </div>
          </div>
          <div class="two-col">
            <div>
              <label>¿Asistirás?</label>
              <select name="attending" id="attending" required>
                <option value="Sí">Sí</option>
                <option value="No">No</option>
                <option value="Quizá">Quizá</option>
              </select>
            </div>
            <div>
              <label>Preferencias alimentarias</label>
              <input name="diet" id="diet" placeholder="Vegetariano, alergias, etc." />
            </div>
          </div>

          <div id="guestNamesWrap" class="hidden">
            <label>Nombres de acompañantes</label>
            <textarea name="guestNames" id="guestNames" placeholder="Ej.: Juan Pérez; María Gómez"></textarea>
          </div>

          <label>Mensaje</label>
          <textarea name="message" id="message" placeholder="Déjanos unas palabras…"></textarea>

          <input type="hidden" name="invitee" id="invitee" />
          <input type="hidden" name="code" id="code" />

          <div class="center-buttons" style="margin-top:12px">
            <button class="btn" type="submit">Enviar confirmación</button>
            <button class="btn ghost" type="reset">Limpiar</button>
          </div>
          <p id="formMsg" style="margin-top:14px"></p>
        </form>
      </article>
    </section>

    <footer class="reveal">
      Con amor, <b>Nicole Stefanie & Javier Adrián</b> • 15 mayo 2026
    </footer>
  </div>

  <!-- MÚSICA -->
  <audio id="music" preload="auto" loop>
    <source src="./music/die-with-a-smile.m4a" type="audio/mp4">
    <source src="./music/tema.mp3" type="audio/mpeg">
  </audio>
  <button id="musicBtn" class="music-btn" aria-label="Reproducir música">♪</button>

  <!-- MODAL REGALOS -->
  <div id="giftModal" class="modal" aria-hidden="true">
    <div class="modal-card">
      <div class="modal-head">
        <h3 class="title" style="margin:0">Lista de regalos</h3>
        <button class="btn ghost" id="closeGift" style="padding:6px 10px">✕</button>
      </div>
      <div id="giftBody">
        <div class="gift-skel"></div><div class="gift-skel"></div><div class="gift-skel"></div><div class="gift-skel"></div>
      </div>
    </div>
  </div>

  <!-- MODAL BANCOS -->
  <div id="bankModal" class="modal" aria-hidden="true">
    <div class="modal-card">
      <div class="modal-head">
        <h3 class="title" style="margin:0">Datos para transferencias</h3>
        <button class="btn ghost" id="closeBank" style="padding:6px 10px">✕</button>
      </div>
      <div class="bank-box" id="bankBox" readonly>
Banco Guayaquil
Cuenta de Ahorros #3782519

Produbanco
Cuenta de Ahorros #20000521092

Banco de Pichincha
Cuenta Corriente #2100271621

Nombre: Javier Adrián Tobar Hanze
Cédula: 0940960370
Correo: adriantobar97@gmail.com
Celular: 0999170015
      </div>
      <div class="center-buttons"><small class="subtitle">Puedes seleccionar y copiar cualquier parte.</small></div>
    </div>
  </div>

  <script>
    // ====== CONFIG ======
    const WEDDING = {
      couple: { groom: "Javier Adrián Tobar Hanze", bride: "Nicole Stefanie Benalcazar García" },
      dateISO: "2026-05-15T16:00:00-05:00",
      ceremonyMap: "https://maps.google.com/?q=Iglesia%20Casa%20de%20F%C3%A9",
      receptionMap: "#",
      photosFolder: "https://example.com/fotos",
      rsvpEndpoint: "https://script.google.com/macros/s/AKfycbw4DVo5jW2nYQxxh_0XY7CSPAiyaEuudDJfUvYFz71njXcWFrthxHO190LEwPRsw7IDuA/exec",
      defaultGuestLimit: 0
    };

    // Public CSV de Google Sheets con los regalos (cámbialo por el tuyo si deseas)
    const GIFTS_SHEET_CSV = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQBR2eNpZ6ERC6w6VB8tBPlg3JgPumCIRO3RE7fXJ-laAVd_zS8e1DCbVwmg7UB8vpBoz_87SbtlAAI/pub?gid=1383828952&single=true&output=csv";

    // ===== COUNTDOWN =====
    const dEl = document.getElementById('dLeft');
    const hEl = document.getElementById('hLeft');
    const mEl = document.getElementById('mLeft');
    const sEl = document.getElementById('sLeft');
    function updateCountdown(){
      const target = new Date(WEDDING.dateISO).getTime();
      const now = Date.now();
      let diff = Math.max(0, target - now);
      const d = Math.floor(diff/86400000); diff -= d*86400000;
      const h = Math.floor(diff/3600000); diff -= h*3600000;
      const m = Math.floor(diff/60000); diff -= m*60000;
      const s = Math.floor(diff/1000);
      dEl.textContent=d; hEl.textContent=h; mEl.textContent=m; sEl.textContent=s;
    }
    setInterval(updateCountdown,1000); updateCountdown();

    // Enlaces
    document.getElementById('ceremonyMap').href = WEDDING.ceremonyMap;
    document.getElementById('receptionMap').href = WEDDING.receptionMap;
    document.getElementById('photosLink').href = WEDDING.photosFolder;

    // ===== Add to Calendar (.ics) =====
    function buildICS(){
      const start = new Date(WEDDING.dateISO);
      const end = new Date(start.getTime() + 2*60*60*1000);
      const dt = d => d.toISOString().replace(/[-:]/g,'').split('.')[0]+'Z';
      const ics = `BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Boda//ES
BEGIN:VEVENT
UID:${Date.now()}@boda
DTSTAMP:${dt(new Date())}
DTSTART:${dt(start)}
DTEND:${dt(end)}
SUMMARY:Boda de ${WEDDING.couple.bride} y ${WEDDING.couple.groom}
LOCATION:Iglesia Casa de Fé
DESCRIPTION:¡Acompáñanos a celebrar!
END:VEVENT
END:VCALENDAR`;
      return 'data:text/calendar;charset=utf8,'+encodeURIComponent(ics);
    }
    document.getElementById('addCalendar').href = buildICS();

    // ==== Animaciones al hacer scroll ====
    const io = new IntersectionObserver(entries => {
      entries.forEach(e=>{
        if(e.isIntersecting){ e.target.classList.add('visible'); io.unobserve(e.target); }
      })
    }, {threshold:.08});
    document.querySelectorAll('.reveal').forEach(el=>io.observe(el));
    document.querySelector('header.hero')?.classList.add('visible');

    // ==== Música ====
    const music = document.getElementById('music');
    const musicBtn = document.getElementById('musicBtn');
    music.volume = 0.55;
    window.addEventListener('load', () => {
      music.play().then(()=>musicBtn.classList.add('playing')).catch(()=>musicBtn.classList.remove('playing'));
    });
    musicBtn.addEventListener('click', ()=>{
      if(music.paused){ music.play(); musicBtn.classList.add('playing'); }
      else { music.pause(); musicBtn.classList.remove('playing'); }
    });

    // ==== Mostrar/ocultar RSVP ====
    const openBtn = document.getElementById('openRSVP');
    openBtn.addEventListener('click', ()=>{
      document.getElementById('rsvp').classList.remove('hidden');
      document.getElementById('rsvp').scrollIntoView({behavior:'smooth'});
      try{ music.play(); musicBtn.classList.add('playing'); }catch{}
    });

    // Mostrar/ocultar nombres de acompañantes
    const guestsSel = document.getElementById('guests');
    const guestWrap = document.getElementById('guestNamesWrap');
    function toggleGuestNames(){
      const n = Number(guestsSel.value||0);
      guestWrap.classList.toggle('hidden', n===0);
    }
    guestsSel.addEventListener('change', toggleGuestNames); toggleGuestNames();

    // Límite de invitados (por defecto 0)
    const guestLimit = WEDDING.defaultGuestLimit;
    document.getElementById('guestLimitLabel').textContent = guestLimit;

    // ==== Envío RSVP ====
    const form = document.getElementById('rsvpForm');
    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      const formMsg = document.getElementById('formMsg');
      formMsg.textContent = 'Enviando…'; formMsg.className='subtitle';

      const data = Object.fromEntries(new FormData(form).entries());
      const selectedGuests = Number(data.guests||0);
      const names = (data.guestNames||'').split(/[,;]\s*|\n/).map(s=>s.trim()).filter(Boolean);

      if(selectedGuests===0){ data.guestNames = ''; }
      if(selectedGuests>0 && names.length !== selectedGuests){
        formMsg.innerHTML = '<span class="err">Indica exactamente los nombres de tus '+selectedGuests+' acompañantes (separados por coma o punto y coma).</span>';
        return;
      }
      if(selectedGuests > guestLimit){
        formMsg.innerHTML = '<span class="err">Tu límite de acompañantes es '+guestLimit+'.</span>';
        return;
      }
      data.timestamp = new Date().toISOString();

      try{
        const res = await fetch(WEDDING.rsvpEndpoint,{
          method:'POST',
          mode:'cors',
          headers:{'Content-Type':'application/json'},
          body: JSON.stringify(data)
        });
        if(!res.ok) throw new Error('No se pudo enviar');
        formMsg.innerHTML = '<span class="ok">¡Recibido! Te llegará un correo de confirmación pronto.</span>';
        form.reset(); toggleGuestNames();
      }catch(err){
        formMsg.innerHTML = '<span class="err">Ocurrió un error. Intenta nuevamente o contáctanos.</span>';
      }
    });

    // ==== Modal de Regalos (lee CSV publicado) ====
    const giftModal = document.getElementById('giftModal');
    const giftBody = document.getElementById('giftBody');
    document.getElementById('openGifts').addEventListener('click', async ()=>{
      giftModal.classList.add('open');
      giftBody.innerHTML = '<div class="gift-skel"></div><div class="gift-skel"></div><div class="gift-skel"></div><div class="gift-skel"></div>';
      try{
        const res = await fetch(GIFTS_SHEET_CSV, {mode:'cors'});
        const csv = await res.text();
        const rows = csv.split(/\r?\n/).map(r=>r.split(/,(?=(?:[^"]*"[^"]*")*[^"]*$)/));
        // Espera cabeceras: ID,Name,Image,Link,ReservedBy,reservedEmail,reservedAt
        const head = rows.shift().map(s=>s.replace(/^"|"$/g,''));
        const idx = k => head.indexOf(k);
        const items = rows.filter(r=>r.length>1).map(r=>({
          id: r[idx('ID')],
          name: (r[idx('Name')]||'').replace(/^"|"$/g,''),
          link: (r[idx('Link')]||'').replace(/^"|"$/g,''),
          reservedBy: (r[idx('ReservedBy')]||'').replace(/^"|"$/g,''),
          reservedAt: (r[idx('reservedAt')]||'').replace(/^"|"$/g,'')
        }));
        giftBody.innerHTML = items.map(it=>{
          const badge = it.reservedBy ? `<small>Reservado por ${it.reservedBy}</small>` : `<small>Disponible</small>`;
          const action = it.link ? `<a class="btn ghost" href="${it.link}" target="_blank" rel="noopener">Ver</a>` : '';
          return `<div class="gift-item"><div><b>${it.name||'Artículo'}</b><br>${badge}</div>${action}</div>`;
        }).join('') || '<div class="subtitle">Aún no hay regalos cargados.</div>';
      }catch(e){
        giftBody.innerHTML = '<div class="err">No se pudo cargar la lista de regalos.</div>';
      }
    });
    document.getElementById('closeGift').addEventListener('click', ()=>giftModal.classList.remove('open'));

    // ==== Modal Bancos ====
    const bankModal = document.getElementById('bankModal');
    document.getElementById('openBank').addEventListener('click', ()=>bankModal.classList.add('open'));
    document.getElementById('closeBank').addEventListener('click', ()=>bankModal.classList.remove('open'));

  </script>
</body>
</html>
